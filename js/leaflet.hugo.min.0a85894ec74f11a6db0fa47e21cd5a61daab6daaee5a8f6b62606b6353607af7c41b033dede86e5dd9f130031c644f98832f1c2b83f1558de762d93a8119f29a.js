let leafletMapsObj={},leafletMarkersObj={};function drawTrack(e,t,n){var s={elevationControl:{options:{position:t.graphPosition,theme:t.graphTheme,width:t.graphWidth,height:t.graphHeight,margins:{top:20,right:20,bottom:35,left:50},followMarker:t.graphFollowMarker,collapsed:t.graphCollapsed,detached:t.graphDetached,legend:!1,summary:!1,downloadLink:"",gpxOptions:{polyline_options:{className:"track-"+e.trackId+"-",color:e.lineColor,opacity:e.lineOpacity,weight:e.lineWeight},marker_options:{startIcon:new L.ExtraMarkers.icon({icon:n.iconStart,markerColor:n.iconStartColor,shape:n.iconStartShape,prefix:"fa",extraClasses:n.iconStartClasses}),endIcon:new L.ExtraMarkers.icon({icon:n.iconEnd,markerColor:n.iconEndColor,shape:n.iconEndShape,prefix:"fa",extraClasses:n.iconEndClasses}),wptIcons:{"":new L.ExtraMarkers.icon({icon:n.icon,markerColor:n.iconColor,shape:n.iconShape,prefix:"fa",extraClasses:n.iconClasses})}}}}}};L.control.elevation(s.elevationControl.options).addTo(leafletMapsObj[e.mapId]).load(e.trackPath)}window.downloadFile=function(e){if(/(iP)/g.test(navigator.userAgent))return alert("Your device does not support files downloading. Please try again in desktop browser."),!1;if(window.downloadFile.isChrome||window.downloadFile.isSafari){var n,s,t=document.createElement("a");if(t.href=e,t.download!==void 0&&(s=e.substring(e.lastIndexOf("/")+1,e.length),t.download=s),document.createEvent)return n=document.createEvent("MouseEvents"),n.initEvent("click",!0,!0),t.dispatchEvent(n),!0}return e.indexOf("?")===-1&&(e+="?download"),window.open(e,"_self"),!0},window.downloadFile.isChrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1,window.downloadFile.isSafari=navigator.userAgent.toLowerCase().indexOf("safari")>-1